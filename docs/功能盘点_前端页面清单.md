# 功能盘点 - 前端页面清单（按现有代码）

> 目的：把“现有前端入口”列全，便于后续统一到 Ant Design X 门户（并识别重复/原型页）。

---

## 1) `xobixiangqing/frontend`（React + Vite：统一门户主线）

路由定义：`xobixiangqing/frontend/src/App.tsx`  
布局外壳：`xobixiangqing/frontend/src/layout/PortalLayout.tsx`

### `/` 仪表盘（Dashboard）
- 文件：`xobixiangqing/frontend/src/pages/Dashboard.tsx`
- 主要能力：最近项目/快捷入口（新建项目、Excel、主图工厂、详情图工厂、编辑器）、阶段进度说明

### `/projects/*` 项目工作流
- `/projects` 项目列表：`xobixiangqing/frontend/src/pages/History.tsx`
- `/projects/new`（兼容旧入口）→ `/factory/detail`：`xobixiangqing/frontend/src/pages/Home.tsx`
- `/projects/:projectId/outline` 大纲：`xobixiangqing/frontend/src/pages/OutlineEditor.tsx`
- `/projects/:projectId/detail` 描述：`xobixiangqing/frontend/src/pages/DetailEditor.tsx`
- `/projects/:projectId/preview` 预览/出图：`xobixiangqing/frontend/src/pages/ImagePreview.tsx`

### `/excel/*` 批量工作台（Dataset）
- `/excel` 数据集列表：`xobixiangqing/frontend/src/pages/ExcelDatasetsPage.tsx`
- `/excel/:datasetId` 数据集详情（行级结果/任务/导出/生成项目）：`xobixiangqing/frontend/src/pages/ExcelDatasetPage.tsx`
- `/excel/legacy` → `/excel`（重定向，保留兼容）

### `/factory/*` 视觉工厂
- `/factory/single` 主图工厂（Landing）：`xobixiangqing/frontend/src/pages/MainFactoryLandingPage.tsx`
- `/factory/canvas` 主图工厂（无限画布 + AI 设计师）：`xobixiangqing/frontend/src/pages/MainFactoryCanvasPage.tsx`
- `/factory/single-tool` 主图工厂（旧工具页/兼容入口）：`xobixiangqing/frontend/src/pages/FactorySinglePage.tsx`
- `/factory/detail` 详情图工厂（详情页生成 UI）：`xobixiangqing/frontend/src/pages/Home.tsx`
- `/factory/detail-bridge` 详情图工厂（Excel/批量桥接）：`xobixiangqing/frontend/src/pages/FactoryDetailPage.tsx`
- `/factory/batch` 批量工厂（入口页：导入 Excel → 进入 Dataset 详情工作台）：`xobixiangqing/frontend/src/pages/BatchFactoryPage.tsx`

补充：已移除旧的 iframe 嵌入壳（LegacyToolEmbed），统一以 Portal 的原生页面作为入口。

### `/editor` 编辑器（门户内置版）
- 文件：`xobixiangqing/frontend/src/pages/EditorPage.tsx`
- 说明：A 代理 B `/api/editor/*`，输入/输出统一走 Asset

### `/assets` 资源库（统一 Asset）
- 文件：`xobixiangqing/frontend/src/pages/AssetsPage.tsx`

### `/jobs` 任务中心（统一 Job）
- 文件：`xobixiangqing/frontend/src/pages/JobsPage.tsx`

### `/agent` Agent（打开右侧面板）
- 文件：`xobixiangqing/frontend/src/pages/AgentPage.tsx`
- 说明：Agent 默认作为右侧 Drawer/Dock 面板存在（不再需要独立聊天页）

### `/settings` 设置
- 文件：`xobixiangqing/frontend/src/pages/Settings.tsx`

### 兼容旧路由（避免书签失效）
- `/history` → `/projects`（重定向）
- `/project/:projectId/{outline|detail|preview}` → `/projects/:projectId/{outline|detail|preview}`（重定向）

---

## 2) `tupian-de-tu/frontend`（静态 HTML：B 工具箱原型）

> FastAPI 会把该目录挂载到根路径 `/`（见 `tupian-de-tu/backend/app/main.py`）。

- `index-antdx.html`：入口/导航页
- `single-antdx.html`：主图工厂（旧原型：Replace/Style/Vision/Studio/Editor 预览）
- `batch-antdx.html`：Excel 批量工作台原型（上传/解析/导出、标题仿写、风格批量；由 `assets/js/batch-import-v2.js` 驱动）
- `editor-antdx.html`：图片编辑器（`/api/editor/*`）
- `chat-antdx.html`：对话/建议（`/api/smart-chat/*`）
- `settings-antdx.html`：本地配置/测试连接（配合请求头 runtime_config）

补充：独立的 `batch-import.html` 目前不在 `tupian-de-tu/frontend` 根目录，而是在：
- `tupian-de-tu/Excel智能处理/frontend/batch-import.html`

---

## 3) `自己版本/frontend`（静态 HTML：同源分支/历史参考）

与 `tupian-de-tu` 同源但更杂，含更多旧页面与半成品：
- `自己版本/frontend/batch-import.html`（Excel 工作台原型）
- 其它 index/single/batch/editor/settings 的普通版/antdx 版混在一起

整合建议：作为历史参考即可，主线以 `xobixiangqing/frontend`（统一门户）+ `tupian-de-tu`（工具服务）为准。
